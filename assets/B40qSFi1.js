import{H as le,I as ae,J as oe,c as ee,o as l,g as k,f as x,w as M,x as I,d as e,T as Z,K as B,n as y,E as L,h as $,L as re,G as te,a as i,S as N,u as P,q as ne,z as R,i as q,r as g,k as V,t as v,C as j,D as E,b as a,M as ie,j as de,y as W,N as J,F as O,e as X,O as Q}from"./DXzKdGHU.js";import{_ as T,A as ue}from"./ueSHsxsn.js";const ce={class:"fixed inset-0 overflow-y-auto px-2 py-2 sm:px-2 z-50 h-full","scroll-region":""},pe=e("div",{class:"absolute inset-0 bg-gray-500 opacity-75"},null,-1),he=[pe],fe={__name:"Modal",props:{id:{type:String,default:null},show:{type:Boolean,default:!1},classes:{type:Array,default:()=>["mb-6","bg-white","rounded-lg","overflow-hidden","shadow-xl","transform","transition-all","sm:w-full","sm:mx-auto","sm:max-w-2xl"]},closeable:{type:Boolean,default:!0},maxWidth:{type:String,default:"2xl"}},emits:["close"],setup(s,{emit:t}){const n=s,f=t;le(()=>n.show,()=>{n.show?document.body.style.overflow="hidden":document.body.style.overflow=null});const u=()=>{n.closeable&&f("close")},r=o=>{o.key==="Escape"&&n.show&&u()};return ae(()=>document.addEventListener("keydown",r)),oe(()=>{document.removeEventListener("keydown",r),document.body.style.overflow=null}),ee(()=>({sm:"sm:max-w-sm",md:"sm:max-w-md",lg:"sm:max-w-lg",xl:"sm:max-w-xl","2xl":"sm:max-w-2xl"})[n.maxWidth]),(o,_)=>(l(),k(re,{to:"body"},[x(Z,{"leave-active-class":"duration-200"},{default:M(()=>[I(e("div",ce,[x(Z,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:M(()=>[I(e("div",{class:"fixed inset-0 transform transition-all",onClick:u},he,512),[[B,s.show]])]),_:1}),x(Z,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to-class":"opacity-100 translate-y-0 sm:scale-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100 translate-y-0 sm:scale-100","leave-to-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:M(()=>[I(e("div",{class:y(["border-none rounded-lg overflow-hidden shadow-xl transform transition-all sm:w-full sm:mx-auto",s.classes])},[s.show?L(o.$slots,"default",{key:0}):$("",!0)],2),[[B,s.show]])]),_:3})],512),[[B,s.show]])]),_:3})]))}},ve={class:"bg-white dark:bg-gray-900 border-none"},me=["id"],K={__name:"DialogModal",props:{id:{type:String,default:null},show:{type:Boolean,default:!1},style:{type:Array,default:()=>[""]},closeable:{type:Boolean,default:!0},classes:{type:Array,default:"sm:max-w-2xl"},titleclass:{type:Array,default:""},bodyclass:{type:Array,default:""},footerclass:{type:Boolean,default:""},closeclass:{type:Array,default:()=>["w-10 h-10"]},closeiconclass:{type:Array,default:()=>["w-8 h-8"]}},emits:["close","classes"],setup(s,{emit:t}){const n=t,f=()=>{n("close")};return(u,r)=>(l(),k(fe,{show:s.show,classes:s.classes,closeable:s.closeable,onClose:f},{default:M(()=>[e("div",ve,[e("div",{class:y(["text-lg font-bold border-none",s.titleclass])},[L(u.$slots,"title")],2),e("div",{id:s.id,class:y(["border-none",s.bodyclass]),style:te(s.style)},[L(u.$slots,"content")],14,me),e("div",{class:y(["flex justify-center border-none",s.footerclass])},[L(u.$slots,"footer")],2)])]),_:3},8,["show","classes","closeable"]))}},ye=e("path",{"fill-rule":"evenodd",d:"M5.47 5.47a.75.75 0 011.06 0L12 10.94l5.47-5.47a.75.75 0 111.06 1.06L13.06 12l5.47 5.47a.75.75 0 11-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 01-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 010-1.06z","clip-rule":"evenodd"},null,-1),ge=[ye],G={__name:"IconXMark",props:{class:{type:Array,default:()=>["w-6","h-6","text-white"]}},setup(s){return(t,n)=>(l(),i("svg",{viewBox:"0 0 24 24",fill:"currentColor",class:y(["w-6 h-6",s.class])},ge,2))}},be=e("path",{"fill-rule":"evenodd",d:"M7.5 6a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM3.751 20.105a8.25 8.25 0 0116.498 0 .75.75 0 01-.437.695A18.683 18.683 0 0112 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 01-.437-.695z","clip-rule":"evenodd"},null,-1),ke=[be],se={__name:"IconUser",props:{class:{type:Array,default:()=>["text-white"]}},setup(s){return(t,n)=>(l(),i("svg",{viewBox:"0 0 24 24",fill:"currentColor",class:y(["w-6 h-6",s.class])},ke,2))}},we=e("path",{"fill-rule":"evenodd",d:"M23,12V11A7,7,0,0,0,9,11v1a3,3,0,0,0-3,3V25a3,3,0,0,0,3,3H23a3,3,0,0,0,3-3V15A3,3,0,0,0,23,12Zm-6,7.72V23a1,1,0,0,1-2,0V19.72a2,2,0,1,1,2,0ZM21,12H11V11a5,5,0,0,1,10,0Z","clip-rule":"evenodd"},null,-1),xe=[we],F={__name:"IconPassword",props:{class:{type:Array,default:()=>["text-white"]}},setup(s){return(t,n)=>(l(),i("svg",{viewBox:"0 0 32 32",fill:"currentColor",class:y(["w-6 h-6",s.class])},xe,2))}},Y=N.mixin({toast:!0,showCloseButton:!0,showConfirmButton:!1,width:500,height:500,customClass:{closeButton:"absolute -top-2 -right-2"},position:"bottom-start",timer:6e4,timerProgressBar:!0,didOpen:s=>{s.addEventListener("mouseenter",N.stopTimer),s.addEventListener("mouseleave",N.resumeTimer)}}),U=P(),_e=ne("dbrt",{state:()=>({table:null,game:null,playerItems:[],selectItems:[],load:!1}),actions:{validateItems(){const s=this.table&&U.auth?this.table.filter(t=>t.player&&t.player.id==U.auth.id):[];this.playerItems=s.length?s.map(t=>t.id):[]},validateSelectItems(){this.table.forEach(s=>{var t=this.selectItems.indexOf(s.id);t>=0&&s.user_id!=null&&this.selectItems.splice(t,1)})},async initGame(){let{data:s}=await R.from("game").select().single();this.game=s},async initTable(){let{data:s}=await R.from("table").select().order("id",{ascending:!0});this.table=s},async init(){await this.initGame(),await this.initTable()},async initOn(){this.load=!1,await this.init(),this.on(),this.load=!0},async on(){R.channel("custom-update-channel").on("postgres_changes",{event:"UPDATE",schema:"public",table:"table"},s=>{const t=this.table.findIndex(n=>n.id===s.new.id);t!==-1&&(this.table[t]=s.new),this.validateItems(),this.validateSelectItems()}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"game"},s=>{this.load=!1,this.game=s.new,this.initTable(),this.load=!0}).subscribe()},async selectItem(s){var t=this.selectItems.indexOf(s);t<0?this.selectItems.length<this.game.per_user&&this.selectItems.push(s):this.selectItems.splice(t,1)},async registerItemsPlayer(){var s={id:U.auth.id,nick:U.auth.nick,avatar:U.auth.avatar,verified:U.auth.verified?1:0};let{data:t,error:n}=await R.rpc("register_items_player",{ids_array:this.selectItems,player_param:s});t.data.player_param.verified!=U.auth.verified&&U.setVerified(t.data.player_param.verified),n?Y.fire({icon:"error",title:`<span class="text-error-700 font-bold font-mono"><span class="font-bold">${U.auth.nick}</span> NO se anoto.</span>`,timer:4e3}):(this.selectItems=[],Y.fire({icon:"success",title:`<span class="text-green-700 font-bold font-mono"><span class="font-bold">${U.auth.nick}</span> Anotado Correctamente</span>`,timer:4e3}))},async copy(s){await navigator.clipboard.writeText((""+s).toUpperCase())}},getters:{getUserItemsSelect:s=>s.selectItems,getUserItemsSelectData:s=>{var t=s.table.filter(n=>s.selectItems.includes(n.id));return t},getUserItemsSelectDataOfCopy:s=>{var t="";return s.table.forEach(n=>{s.selectItems.includes(n.id)&&(t=t+(t==""?"":"-")+n.name)}),t},getUserItems:s=>s.playerItems,getUserItemsData:s=>{var t=s.table.filter(n=>n.player&&n.player.id==U.auth.id);return t},getUserItemsDataOfCopy:s=>{var t="";return s.table.forEach(n=>{s.playerItems.includes(n.id)&&(t=t+(t==""?"":"-")+n.name)}),t},getTableSpaceFree:s=>Math.floor(s.table.filter(t=>t.user_id==null).length/s.game.per_user),getTableSpaceTotal:s=>Math.floor(s.table.length/s.game.per_user),getTableSpaceOcuped:s=>Math.floor(s.table.filter(t=>t.user_id!=null).length/s.game.per_user)}}),$e={class:"md:w-full font-bold p-6"},Ce={class:"w-full"},Se={class:"flex items-center"},Ie={class:"relative w-full"},Me={class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none text-sky-600 dark:text-sky-400"},Ae=["placeholder"],Ue={class:"flex items-center my-4"},Ve={class:"relative w-full"},ze={class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none text-sky-600 dark:text-sky-400"},Be=["placeholder"],Ee={class:"text-center text-red-400 uppercase font-mono text-sm italic"},Le={class:"w-full h-14 flex justify-center items-center"},Te=["disabled","title"],je={key:0},Pe={__name:"Login",setup(s){const t=q(),n=P(),f=_e(),u=g(null),r=g(null),o=g({username:null,password:null}),_=g(0),p=g(null),d=()=>{f.playerItems.length>0&&(f.selectItems=[],f.validateSelectItems()),_.value=0,p.value=null,o.value={username:null,password:null},n.form.signIn=!1},A=async()=>{_.value=1,p.value=null,(await n.signIn(o.value.username,o.value.password)).status=="SUCCESS"&&(d(),t.push("/")),_.value=0},c=()=>{if(o.value.username){const b=new RegExp(/[A-Za-z0-9]/),m=o.value.username,S=g("");for(let z=0;z<m.length;z++)b.test(m[z])&&(S.value+=m[z]);o.value.username=S.value.replace(/ /g,"")}};return(b,m)=>(l(),k(K,{show:a(n).form.signIn,classes:["sm:max-w-[300px]"],closeclass:"true",footerclass:"hidden",titleclass:"flex justify-center bg-sky-600 text-white p-2 uppercase !text-2xl"},{title:M(()=>[V(v(b.$t("Login"))+" ",1),e("button",{onClick:m[0]||(m[0]=S=>d()),class:"absolute flex justify-center items-center top-0 right-0 w-12 h-12 rounded-md rounded-br-none text-red-100 hover:bg-red-500 hover:text-white"},[x(G)])]),content:M(()=>[e("div",$e,[e("div",Ce,[e("div",Se,[e("div",Ie,[e("div",Me,[x(se,{class:"text-sky-600"})]),I(e("input",{type:"text","onUpdate:modelValue":m[1]||(m[1]=S=>o.value.username=S),ref_key:"inputidname",ref:u,onKeyup:m[2]||(m[2]=j(S=>r.value.focus(),["enter"])),onBlur:c,placeholder:b.$t("Usuario"),class:"border-sky-400 border-2 appearance-none focus:outline-none focus:border-sky-500 bg-gray-50 text-gray-900 text-sm rounded-lg focus:ring-0 block w-full pl-11 p-2 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-sky-200 dark:text-white dark:focus:ring-0 dark:focus:border-sky-400 uppercase",required:""},null,40,Ae),[[E,o.value.username]])])]),e("div",Ue,[e("div",Ve,[e("div",ze,[x(F,{class:"text-sky-600"})]),I(e("input",{type:"password","onUpdate:modelValue":m[3]||(m[3]=S=>o.value.password=S),ref_key:"inputpassword",ref:r,onKeyup:j(A,["enter"]),placeholder:b.$t("Password"),class:"border-sky-400 border-2 appearance-none focus:outline-none focus:border-sky-500 bg-gray-50 text-gray-900 text-sm rounded-lg focus:ring-0 block w-full pl-11 p-2 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-sky-200 dark:text-white dark:focus:ring-0 dark:focus:border-sky-400",required:""},null,40,Be),[[E,o.value.password]])])])]),e("div",Ee,v(p.value),1),e("div",Le,[e("button",{class:"p-2 w-full flex justify-center bg-sky-600 rounded-md font-mono uppercase disabled:bg-gray-500 disabled:cursor-pointer",disabled:!(o.value.username&&o.value.password&&o.value.password.length>0),title:o.value.username&&o.value.password&&o.value.password.length>0?"Inicia Sesion":"Falta llenar datos",onClick:A},[_.value?(l(),k(T,{key:1})):(l(),i("span",je,v(b.$t("Login")),1))],8,Te)])])]),_:1},8,["show"]))}},Re={class:"md:w-full font-bold p-6"},De={class:"w-full"},He={class:"flex items-center"},Ze={class:"relative w-full"},Ne={class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none text-sky-600 dark:text-sky-400"},Oe=["placeholder"],qe={class:"flex items-center my-4"},Ke={class:"relative w-full"},Ge={class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none text-sky-600 dark:text-sky-400"},Fe=["placeholder"],We={class:"text-center text-red-400 uppercase font-mono text-sm italic"},Je={class:"w-full h-14 flex justify-center items-center mb-3"},Xe=["disabled","title"],Qe={key:0},Ye=e("div",{class:"absolute left-0 bottom-0 w-full text-xs italic text-center py-1 bg-sky-400/20"},"Evitar usar claves personales",-1),et={__name:"Register",setup(s){const t=q(),n=P(),f=g(null),u=g(null),r=g({username:null,password:null}),o=g(0),_=g(null),p=()=>{o.value=0,_.value=null,r.value={username:null,password:null},n.form.signUp=!1},d=async()=>{o.value=1,_.value=null;const c=await n.signUp(r.value.username,r.value.password);c.status=="ERROR_SIGNUP"?_.value=c.data=="User already registered"?r.value.username+" ya esta registrado":"Error desconocido":(p(),t.push("/")),o.value=0},A=()=>{if(r.value.username){const c=new RegExp(/[A-Za-z0-9]/),b=r.value.username,m=g("");for(let S=0;S<b.length;S++)c.test(b[S])&&(m.value+=b[S]);r.value.username=m.value.replace(/ /g,"")}};return(c,b)=>(l(),k(K,{show:a(n).form.signUp,classes:["sm:max-w-[300px]"],closeclass:"true",footerclass:"hidden",titleclass:"flex justify-center bg-sky-600 text-white p-2 uppercase !text-2xl"},{title:M(()=>[V(v(c.$t("Register"))+" ",1),e("button",{onClick:b[0]||(b[0]=m=>p()),class:"absolute flex justify-center items-center top-0 right-0 w-12 h-12 rounded-md rounded-br-none text-red-100 hover:bg-red-500 hover:text-white"},[x(G)])]),content:M(()=>[e("div",Re,[e("div",De,[e("div",He,[e("div",Ze,[e("div",Ne,[x(se,{class:"text-sky-600"})]),I(e("input",{type:"text","onUpdate:modelValue":b[1]||(b[1]=m=>r.value.username=m),ref_key:"inputidname",ref:f,onKeyup:b[2]||(b[2]=j(m=>u.value.focus(),["enter"])),onBlur:A,placeholder:c.$t("User"),class:y([r.value.username?"border-sky-400 focus:border-sky-500 dark:focus:border-sky-400":"border-red-400 focus:border-red-500 dark:focus:border-red-400","border-2 appearance-none focus:outline-none bg-gray-50 text-gray-900 text-sm rounded-lg focus:ring-0 block w-full pl-11 p-2 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-sky-200 dark:text-white dark:focus:ring-0 uppercase"]),required:""},null,42,Oe),[[E,r.value.username]])])]),e("div",qe,[e("div",Ke,[e("div",Ge,[x(F,{class:"text-sky-600"})]),I(e("input",{type:"password","onUpdate:modelValue":b[3]||(b[3]=m=>r.value.password=m),ref_key:"inputpassword",ref:u,onKeyup:j(d,["enter"]),placeholder:c.$t("Password"),class:y([r.value.password&&r.value.password.length>0?"border-sky-400 focus:border-sky-500 dark:focus:border-sky-400":"border-red-400 focus:border-red-500 dark:focus:border-red-400","border-2 appearance-none focus:outline-none bg-gray-50 text-gray-900 text-sm rounded-lg focus:ring-0 block w-full pl-11 p-2 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-sky-200 dark:text-white dark:focus:ring-0"]),required:""},null,42,Fe),[[E,r.value.password]])])])]),e("div",We,v(_.value),1),e("div",Je,[e("button",{class:"p-2 w-full flex justify-center bg-sky-600 rounded-md font-mono uppercase disabled:bg-gray-500 disabled:cursor-pointer",disabled:!(r.value.username&&r.value.password&&r.value.password.length>0),title:r.value.username&&r.value.password&&r.value.password.length>0?"Registrarse":"Falta llenar datos",onClick:d},[o.value?(l(),k(T,{key:1})):(l(),i("span",Qe,v(c.$t("Register")),1))],8,Xe)]),Ye])]),_:1},8,["show"]))}},tt=e("path",{d:"M12 15a3 3 0 100-6 3 3 0 000 6z"},null,-1),st=e("path",{"fill-rule":"evenodd",d:"M1.323 11.447C2.811 6.976 7.028 3.75 12.001 3.75c4.97 0 9.185 3.223 10.675 7.69.12.362.12.752 0 1.113-1.487 4.471-5.705 7.697-10.677 7.697-4.97 0-9.186-3.223-10.675-7.69a1.762 1.762 0 010-1.113zM17.25 12a5.25 5.25 0 11-10.5 0 5.25 5.25 0 0110.5 0z","clip-rule":"evenodd"},null,-1),lt=[tt,st],at={__name:"IconEye",props:{class:{type:Array,default:()=>["text-white"]}},setup(s){return(t,n)=>(l(),i("svg",{viewBox:"0 0 24 24",fill:"currentColor",class:y(["w-6 h-6",s.class])},lt,2))}},ot=e("path",{d:"M3.53 2.47a.75.75 0 00-1.06 1.06l18 18a.75.75 0 101.06-1.06l-18-18zM22.676 12.553a11.249 11.249 0 01-2.631 4.31l-3.099-3.099a5.25 5.25 0 00-6.71-6.71L7.759 4.577a11.217 11.217 0 014.242-.827c4.97 0 9.185 3.223 10.675 7.69.12.362.12.752 0 1.113z"},null,-1),rt=e("path",{d:"M15.75 12c0 .18-.013.357-.037.53l-4.244-4.243A3.75 3.75 0 0115.75 12zM12.53 15.713l-4.243-4.244a3.75 3.75 0 004.243 4.243z"},null,-1),nt=e("path",{d:"M6.75 12c0-.619.107-1.213.304-1.764l-3.1-3.1a11.25 11.25 0 00-2.63 4.31c-.12.362-.12.752 0 1.114 1.489 4.467 5.704 7.69 10.675 7.69 1.5 0 2.933-.294 4.242-.827l-2.477-2.477A5.25 5.25 0 016.75 12z"},null,-1),it=[ot,rt,nt],dt={__name:"IconEyeSlash",props:{class:{type:Array,default:()=>["text-white"]}},setup(s){return(t,n)=>(l(),i("svg",{viewBox:"0 0 24 24",fill:"currentColor",class:y(["w-6 h-6",s.class])},it,2))}};function D(s,t){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M8.603 3.799A4.49 4.49 0 0 1 12 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 0 1 3.498 1.307 4.491 4.491 0 0 1 1.307 3.497A4.49 4.49 0 0 1 21.75 12a4.49 4.49 0 0 1-1.549 3.397 4.491 4.491 0 0 1-1.307 3.497 4.491 4.491 0 0 1-3.497 1.307A4.49 4.49 0 0 1 12 21.75a4.49 4.49 0 0 1-3.397-1.549 4.49 4.49 0 0 1-3.498-1.306 4.491 4.491 0 0 1-1.307-3.498A4.49 4.49 0 0 1 2.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 0 1 1.307-3.497 4.49 4.49 0 0 1 3.497-1.307Zm7.007 6.387a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z","clip-rule":"evenodd"})])}function ut(s,t){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M4.5 3.75a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V6.75a3 3 0 0 0-3-3h-15Zm4.125 3a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Zm-3.873 8.703a4.126 4.126 0 0 1 7.746 0 .75.75 0 0 1-.351.92 7.47 7.47 0 0 1-3.522.877 7.47 7.47 0 0 1-3.522-.877.75.75 0 0 1-.351-.92ZM15 8.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15ZM14.25 12a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H15a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15Z","clip-rule":"evenodd"})])}function ct(s,t){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M1.5 6a2.25 2.25 0 0 1 2.25-2.25h16.5A2.25 2.25 0 0 1 22.5 6v12a2.25 2.25 0 0 1-2.25 2.25H3.75A2.25 2.25 0 0 1 1.5 18V6ZM3 16.06V18c0 .414.336.75.75.75h16.5A.75.75 0 0 0 21 18v-1.94l-2.69-2.689a1.5 1.5 0 0 0-2.12 0l-.88.879.97.97a.75.75 0 1 1-1.06 1.06l-5.16-5.159a1.5 1.5 0 0 0-2.12 0L3 16.061Zm10.125-7.81a1.125 1.125 0 1 1 2.25 0 1.125 1.125 0 0 1-2.25 0Z","clip-rule":"evenodd"})])}const pt=["data"],ht=["src"],H={__name:"GifFrame",props:{src:{type:String,default:"https://iili.io/HtlT32S.png"},class:{type:Array,default:()=>["!w-[80px]","!h-[80px]","rounded-full"]}},setup(s){g(!1);const t=s,n=g(null),f=ee(()=>{if(t.src){const u=document.createElement("img");u.src=t.src?t.src:"https://iili.io/HtlT32S.png",u.onload=()=>{n.value=u.width/u.height>=2?"animation: gifframe "+u.width/u.height*.1+"s steps("+u.width/u.height+") infinite;":""}}else{const u=document.createElement("img");u.src="https://iili.io/HtlT32S.png",u.onload=()=>{n.value=u.width/u.height>=2?"animation: gifframe "+u.width/u.height*.1+"s steps("+u.width/u.height+") infinite;":""}}return null});return(u,r)=>(l(),i("div",{class:y(["relative overflow-hidden",s.class]),data:f.value},[e("img",{src:s.src?s.src:"https://iili.io/HtlT32S.png",class:y("!h-full min-w-max mx-auto"),style:te(n.value),onError:r[0]||(r[0]=o=>s.src=s.src.length&&Number(s.src)&&s.src<1759?"https://www.xat.com/web_gear/chat/av/"+s.src+".png":"https://iili.io/HtlT32S.png")},null,44,ht)],10,pt))}},ft={key:0,class:"md:w-full font-bold p-6"},vt={key:0},mt={key:0,class:"flex items-center pb-6 max-w-min mx-auto"},yt={class:"relative"},gt={class:"px-2"},bt={class:"text-xl min-w-20"},kt={class:"w-full"},wt={class:"space-y-6"},xt={key:1},_t={class:"w-full space-y-3"},$t={class:"flex items-center justify-center text-center uppercase text-xl pb-2 w-full text-gray-300"},Ct={class:""},St={class:"flex items-center"},It={class:"relative w-full"},Mt={class:"absolute inset-y-0 left-0 flex items-center pl-2.5 pointer-events-none text-sky-600 dark:text-sky-400"},At=["placeholder"],Ut={class:"flex items-center"},Vt={class:"relative w-full"},zt={class:"absolute inset-y-0 left-0 flex items-center pl-2.5 pointer-events-none text-sky-600 dark:text-sky-400"},Bt=["placeholder"],Et={class:"px-2 w-full flex justify-center items-center"},Lt={class:"relative"},Tt=["disabled"],jt={key:1},Pt={key:2},Rt={class:"w-full space-y-3"},Dt={class:"flex items-center my-4"},Ht={class:"relative w-full"},Zt={class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none text-sky-600 dark:text-sky-400"},Nt=["type","placeholder"];const Ot=["disabled"],qt={key:1},Kt={key:3},Gt={class:"w-full space-y-3"},Ft={key:1},Wt={key:0,class:"text-center uppercase text-2xl text-yellow-600"},Jt={key:1},Xt={key:0,class:"text-center uppercase"},Qt=e("div",{class:"text-2xl"},"Pendiente de Verificación",-1),Yt={class:"text-sm italic"},es=["disabled"],ts=e("span",null,"Solicitar Verificacion",-1),ss=[ts],ls={__name:"Profile",setup(s){const t=P(),n=g(null),f=g(null),u=g(!1),r=g(0),o=g(0),_=g({password:null,passwordrepeat:null}),p=g({nick:null,avatar:null}),d=()=>{p.value={nick:t.auth.nick,avatar:t.auth.avatar},_.value={password:null,passwordrepeat:null},o.value=0,r.value=0};d();const A=()=>{d(),t.form.signProfile=!1},c=async()=>{r.value=1,await t.update(p.value).then(C=>{C.status=="SUCCESS"&&(o.value=0)}),r.value=0},b=async()=>{r.value=1,await t.updatePassword(_.value.password).then(C=>{C.status=="SUCCESS"&&(o.value=0)}),r.value=0},m=g(null),S=async C=>{o.value=C,r.value=1,await t.getVerificationUser().then(h=>{h.data?m.value=h.data:m.value=null}).finally(()=>{r.value=0})},z=async()=>{await t.sendVerification().then(C=>{C.status=="SUCCESS"&&(m.value=C.data)})};return(C,h)=>(l(),k(K,{show:a(t).form.signProfile,classes:["sm:max-w-[400px]"],closeclass:"true",footerclass:"hidden",titleclass:"flex justify-center bg-sky-600 text-white p-2 uppercase !text-2xl"},{title:M(()=>[V(v(o.value==0?C.$t("User Profile"):o.value==1?"Cambiar Información":o.value==2?"Cambiar Clave":o.value==3?"Verificación":C.$t("User Profile"))+" ",1),e("button",{onClick:h[0]||(h[0]=w=>A()),class:"absolute flex justify-center items-center top-0 right-0 w-12 h-12 rounded-md rounded-br-none text-red-100 hover:bg-red-500 hover:text-white"},[x(G)])]),content:M(()=>[a(t).auth?(l(),i("div",ft,[o.value==0?(l(),i("div",vt,[a(t).auth?(l(),i("div",mt,[e("div",yt,[x(H,{src:p.value.avatar?p.value.avatar:"",class:y(["w-20 h-20 rounded-full",a(t).auth.who_verified.includes(a(t).page)?"border border-yellow-500":""])},null,8,["src","class"]),a(t).auth.who_verified.includes(a(t).page)?(l(),k(a(D),{key:0,class:"absolute -bottom-0 stroke-gray-800 right-0.5 size-7 fill-yellow-500"})):$("",!0)]),e("div",gt,[e("div",bt,v(a(t).auth.username),1),e("div",kt,v(a(t).auth.nick),1)])])):$("",!0),e("div",wt,[e("button",{onClick:h[1]||(h[1]=w=>S(3)),class:"bg-sky-600 hover:bg-sky-500 text-white w-full py-2 px-4 uppercase font-bold text-xl rounded-lg"}," Estado de Verificacion "),e("button",{onClick:h[2]||(h[2]=w=>o.value=1),class:"bg-sky-600 hover:bg-sky-500 text-white w-full py-2 px-4 uppercase font-bold text-xl rounded-lg"},"Cambiar Información"),e("button",{onClick:h[3]||(h[3]=w=>o.value=2),class:"bg-sky-600 hover:bg-sky-500 text-white w-full py-2 px-4 uppercase font-bold text-xl rounded-lg"},"Cambiar Clave")])])):$("",!0),o.value==1?(l(),i("div",xt,[e("div",_t,[e("div",$t,[e("div",Ct,"Usuario: "+v(a(t).auth.username),1)]),e("div",St,[e("div",It,[e("div",Mt,[x(a(ut),{class:"text-sky-600 size-7"})]),I(e("input",{type:"text","onUpdate:modelValue":h[4]||(h[4]=w=>p.value.nick=w),ref_key:"inputidname",ref:n,placeholder:C.$t("NICK PARA TABLA"),class:"border-sky-400 border-2 appearance-none focus:outline-none focus:border-sky-500 bg-gray-50 text-gray-900 text-sm rounded-lg focus:ring-0 block w-full pl-11 p-2 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-sky-200 dark:text-white dark:focus:ring-0 dark:focus:border-sky-400",required:""},null,8,At),[[E,p.value.nick]])])]),e("div",Ut,[e("div",Vt,[e("div",zt,[x(a(ct),{class:"text-sky-600 size-7"})]),I(e("input",{type:"text","onUpdate:modelValue":h[5]||(h[5]=w=>p.value.avatar=w),ref_key:"inputidname",ref:n,placeholder:C.$t("AVATAR"),class:"border-sky-400 border-2 appearance-none focus:outline-none focus:border-sky-500 bg-gray-50 text-gray-900 text-sm rounded-lg focus:ring-0 block w-full pl-11 p-2 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-sky-200 dark:text-white dark:focus:ring-0 dark:focus:border-sky-400",required:""},null,8,Bt),[[E,p.value.avatar]])])]),e("div",Et,[e("div",Lt,[x(H,{src:p.value.avatar,class:y(["w-28 h-28 rounded-full",a(t).auth.who_verified.includes(a(t).page)?"border border-yellow-500":""])},null,8,["src","class"]),a(t).auth.who_verified.includes(a(t).page)?(l(),k(a(D),{key:0,class:"absolute -bottom-0 stroke-gray-800 -right-0.5 size-9 fill-yellow-500"})):$("",!0)])]),e("button",{onClick:h[6]||(h[6]=w=>c()),disabled:r.value,class:"bg-green-600 hover:bg-green-500 text-white w-full py-2 px-4 uppercase font-bold text-xl rounded-lg"},[r.value?(l(),k(T,{key:0,class:"mx-auto"})):(l(),i("span",jt,"Guardar"))],8,Tt),e("button",{class:"bg-sky-600 hover:bg-sky-500 text-white w-full py-2 px-4 uppercase font-bold text-xl rounded-lg",onClick:h[7]||(h[7]=w=>o.value=0)},"Cancelar")])])):$("",!0),o.value==2?(l(),i("div",Pt,[e("div",Rt,[e("div",Dt,[e("div",Ht,[e("div",Zt,[x(F,{class:"text-sky-600"})]),I(e("input",{type:u.value?"text":"password","onUpdate:modelValue":h[8]||(h[8]=w=>_.value.password=w),ref_key:"inputpassword",ref:f,onKeyup:h[9]||(h[9]=j((...w)=>C.fnlogin&&C.fnlogin(...w),["enter"])),placeholder:C.$t("Password"),class:"border-sky-400 border-2 appearance-none focus:outline-none focus:border-sky-500 bg-gray-50 text-gray-900 text-xl rounded-lg focus:ring-0 block w-full pl-11 p-2 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-sky-200 dark:text-white dark:focus:ring-0 dark:focus:border-sky-400",required:""},null,40,Nt),[[ie,_.value.password]]),e("button",{onClick:h[10]||(h[10]=w=>u.value=!u.value),class:"absolute inset-y-0 right-0 flex items-center pl-2 pr-2 hover:bg-sky-600 rounded-r-lg my-0.5 mr-0.5"},[u.value?(l(),k(at,{key:0})):(l(),k(dt,{key:1}))])])]),$("",!0),e("button",{onClick:h[13]||(h[13]=w=>b()),disabled:r.value,class:"bg-green-600 hover:bg-green-500 text-white w-full py-2 px-4 uppercase font-bold text-xl rounded-lg"},[r.value?(l(),k(T,{key:0,class:"mx-auto"})):(l(),i("span",qt,"Guardar"))],8,Ot),e("button",{class:"bg-sky-600 hover:bg-sky-500 text-white w-full py-2 px-4 uppercase font-bold text-xl rounded-lg",onClick:h[14]||(h[14]=w=>o.value=0)},"Cancelar")])])):$("",!0),o.value==3?(l(),i("div",Kt,[e("div",Gt,[r.value?(l(),k(T,{key:0,class:"mx-auto"})):(l(),i("div",Ft,[a(t).verified?(l(),i("div",Wt,"Estas Verificado")):(l(),i("div",Jt,[m.value?(l(),i("div",Xt,[Qt,e("div",Yt,"Avisar a "+v(a(t).page.name),1)])):(l(),i("button",{key:1,onClick:h[15]||(h[15]=w=>z()),disabled:r.value,class:"bg-green-600 hover:bg-green-500 disabled:bg-transparent text-white w-full py-2 px-4 uppercase font-bold text-xl rounded-lg"},ss,8,es))]))])),e("button",{onClick:h[16]||(h[16]=w=>o.value=0),class:"bg-sky-600 hover:bg-sky-500 text-white w-full py-2 px-4 uppercase font-bold text-xl rounded-lg"}," Regresar ")])])):$("",!0)])):$("",!0)]),_:1},8,["show"]))}},as={class:"flex justify-between h-10"},os={class:"shrink-0 flex items-center"},rs={class:"uppercase font-bold pl-1"},ns={class:"hidden sm:flex sm:items-center sm:ml-6"},is=["value"],ds={class:"h-7 w-7",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},us={class:"ml-1 relative right",width:"48"},cs={key:0,class:"relative"},ps={key:1,class:"rounded-full"},hs=e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-9 h-9"},[e("path",{"fill-rule":"evenodd",d:"M18.685 19.097A9.723 9.723 0 0021.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 003.065 7.097A9.716 9.716 0 0012 21.75a9.716 9.716 0 006.685-2.653zm-12.54-1.285A7.486 7.486 0 0112 15a7.486 7.486 0 015.855 2.812A8.224 8.224 0 0112 20.25a8.224 8.224 0 01-5.855-2.438zM15.75 9a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z","clip-rule":"evenodd"})],-1),fs=[hs],vs={key:0,class:"text-center font-bold"},ms={key:1,class:"w-full block py-1 rounded-t-md"},ys={key:1,class:"text-center font-bold"},gs={class:"-mr-2 flex items-center sm:hidden"},bs=["value"],ks={class:"h-7 w-7",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},ws={class:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},xs={class:"pt-2 pb-3 space-y-1 text-center font-bold z-50"},_s={key:0,class:"flex justify-center px-4 pb-4"},$s={class:"relative shrink-0 mr-3"},Cs={class:"font-bold text-left text-base uppercase"},Ss={class:"font-bold text-left text-base uppercase"},Is={key:1},Ms={key:2},As={__name:"AppMenu",setup(s){const t=P(),n=q(),f=g(!1),u=()=>{t.signOut(),n.push("/")},r=document.querySelector("html").classList,o=g(localStorage.mode==""?localStorage.mode:"dark");o.value=="dark"&&r.add("dark");const _=()=>{localStorage.mode=localStorage.mode==""?"dark":"",localStorage.mode=="dark"?r.add("dark"):r.remove("dark"),o.value=localStorage.mode};return(p,d)=>{const A=de("router-link");return l(),i(O,null,[e("nav",{class:y(["fixed px-2 shadow-none w-full top-0 z-30","bg-sky-600","text-gray-100","dark:bg-gray-800","dark:text-sky-400"])},[e("div",as,[e("div",os,[x(ue,{class:"block h-8 w-auto"}),e("div",rs,v(a(t).auth?a(t).auth.username:""),1)]),e("div",ns,[I(e("select",{"onUpdate:modelValue":d[0]||(d[0]=c=>p.$i18n.locale=c),onChange:d[1]||(d[1]=c=>a(J)(p.$i18n.locale)),class:"focus:outline-none focus:ring-0 text-sm rounded-lg bg-transparent italic p-2 font-bold border-none active:border-0 active:ring-0"},[(l(!0),i(O,null,X(a(Q),c=>(l(),i("option",{key:c.code,value:c.code,class:"font-bold bg-white text-black dark:bg-gray-900 dark:text-white"},v(c.language),9,is))),128))],544),[[W,p.$i18n.locale]]),e("button",{class:"pl-1 h-9 w-9 rounded-full px-2",onClick:_},[(l(),i("svg",ds,[e("path",{class:y({hidden:o.value=="","inline-flex":o.value=="dark"}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,2),e("path",{class:y({hidden:o.value=="dark","inline-flex":o.value==""}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,2)]))]),e("div",us,[e("button",{class:"rounded-full focus:ring transition mt-2",onClick:d[2]||(d[2]=c=>{f.value=!f.value})},[a(t).auth?(l(),i("span",cs,[a(t).auth.id?(l(),k(H,{key:0,src:a(t).auth.avatar,class:y(["w-9 h-9 rounded-full",a(t).verified?"border  border-yellow-500":""])},null,8,["src","class"])):$("",!0),a(t).verified?(l(),k(a(D),{key:1,class:"absolute -bottom-0 -right-0.5 size-3 stroke-gray-800 fill-yellow-500"})):$("",!0)])):(l(),i("div",ps,fs))]),I(e("div",{class:"fixed inset-0 z-40",onClick:d[3]||(d[3]=c=>f.value=!1)},null,512),[[B,f.value]]),I(e("div",{onClick:d[7]||(d[7]=c=>f.value=!1),class:"absolute z-50 right-0 rounded-md shadow-lg origin-top-right w-48 bg-gray-800 text-white"},[a(t).auth?(l(),i("div",vs,[a(t).auth.role?(l(),k(A,{key:0,to:{name:"index"},class:y(["w-full block py-1 rounded-t-md",a(t).auth&&a(t).auth.role>0?"hover:bg-white hover:text-black":""])},{default:M(()=>[V(v(p.$t("Home")),1)]),_:1},8,["class"])):(l(),i("div",ms,v(a(t).auth.username),1)),e("button",{onClick:d[4]||(d[4]=c=>a(t).form.signProfile=!0),class:"w-full block py-1 hover:bg-white hover:text-black"},v(p.$t("User Profile")),1),a(t).auth&&a(t).auth.role>0?(l(),k(A,{key:2,to:{name:"admin"},class:"w-full block py-1 hover:bg-white hover:text-black"},{default:M(()=>[V(v(p.$t("Dashboard")),1)]),_:1})):$("",!0),e("button",{onClick:u,class:y(["w-full block rounded-b-md pt-1 pb-2 hover:bg-red-100 hover:text-gray-900","text-red-500"])},v(p.$t("Logout")),1)])):(l(),i("div",ys,[e("button",{onClick:d[5]||(d[5]=c=>a(t).form.signIn=!0),class:"w-full block py-2 hover:bg-white hover:text-black rounded-md"},v(p.$t("Login")),1),e("button",{onClick:d[6]||(d[6]=c=>a(t).form.signUp=!0),class:"w-full block py-2 hover:bg-white hover:text-black rounded-b-md"},v(p.$t("Register")),1)]))],512),[[B,f.value]])])]),e("div",gs,[I(e("select",{"onUpdate:modelValue":d[8]||(d[8]=c=>p.$i18n.locale=c),onChange:d[9]||(d[9]=c=>a(J)(p.$i18n.locale)),class:"focus:outline-none focus:ring-0 text-sm rounded-lg bg-transparent italic p-2 font-bold border-none active:border-0 active:ring-0"},[(l(!0),i(O,null,X(a(Q),c=>(l(),i("option",{key:c.code,value:c.code,class:"font-bold bg-white text-black dark:bg-gray-900 dark:text-white"},v(c.language),9,bs))),128))],544),[[W,p.$i18n.locale]]),e("button",{class:"pl-1 h-9 w-9 rounded-full px-2",onClick:_},[(l(),i("svg",ks,[e("path",{class:y({hidden:o.value=="","inline-flex":o.value=="dark"}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,2),e("path",{class:y({hidden:o.value=="dark","inline-flex":o.value==""}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,2)]))]),e("button",{class:"inline-flex items-center justify-center p-2 rounded-md focus:outline-none transition",onClick:d[10]||(d[10]=c=>f.value=!f.value)},[(l(),i("svg",ws,[e("path",{class:y({hidden:f.value,"inline-flex":!f.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,2),e("path",{class:y({hidden:!f.value,"inline-flex":f.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,2)]))])])]),I(e("div",{onClick:d[14]||(d[14]=c=>f.value=!f.value),class:"sm:hidden"},[e("div",xs,[a(t).auth?(l(),i("div",_s,[e("div",$s,[a(t).auth.id?(l(),k(H,{key:0,src:a(t).auth.avatar,class:y(["w-12 h-12 rounded-full",a(t).verified?"border  border-yellow-500":""])},null,8,["src","class"])):$("",!0),a(t).auth.verified?(l(),k(a(D),{key:1,class:"absolute -bottom-0 -right-0.5 size-4 stroke-gray-800 fill-yellow-500"})):$("",!0)]),e("div",null,[e("div",Cs,v(a(t).auth.username),1),e("div",Ss,v(a(t).auth.nick),1)])])):$("",!0),a(t).auth?(l(),i("div",Is,[x(A,{to:{name:"index"},class:"w-full block py-2 hover:bg-white hover:text-black"},{default:M(()=>[V(v(p.$t("Home")),1)]),_:1}),e("button",{onClick:d[11]||(d[11]=c=>a(t).form.signProfile=!0),class:"w-full block py-2 hover:bg-white hover:text-black"},v(p.$t("User Profile")),1),a(t).auth&&a(t).auth.role>0?(l(),k(A,{key:0,to:{name:"admin"},class:"w-full block py-2 hover:bg-white hover:text-black"},{default:M(()=>[V(v(p.$t("Dashboard")),1)]),_:1})):$("",!0),e("button",{onClick:u,class:"w-full block py-2 text-red-200 hover:bg-white hover:text-red-800"},v(p.$t("Logout")),1)])):(l(),i("div",Ms,[e("button",{onClick:d[12]||(d[12]=c=>a(t).form.signIn=!0),class:"w-full block py-2 hover:bg-white hover:text-black"},v(p.$t("Login")),1),e("button",{onClick:d[13]||(d[13]=c=>a(t).form.signUp=!0),class:"w-full block py-2 hover:bg-white hover:text-black"},v(p.$t("Register")),1)]))])],512),[[B,f.value]])]),x(Pe),x(et),a(t).auth?(l(),k(ls,{key:0})):$("",!0)],64)}}},Us={class:"h-full pt-10 select-none"},Vs={class:"h-full overflow-auto select-none bg"},zs={class:"pt-0 h-full"},Bs={class:"h-full"},Ts={__name:"AppLayout",setup(s){return(t,n)=>(l(),i("div",Us,[x(As),e("div",Vs,[e("div",zs,[e("main",Bs,[L(t.$slots,"default")])])])]))}};export{H as _,Ts as a,G as b,se as c,K as d,F as e,D as r,_e as u};
